"use strict";(self["webpackChunkactive_dogs"]=self["webpackChunkactive_dogs"]||[]).push([[218],{5813:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(6252),o=t(3577);function u(e,n,t,u,l,r){const d=(0,a.up)("ion-loading"),c=(0,a.up)("ion-back-button"),i=(0,a.up)("ion-buttons"),s=(0,a.up)("ion-title"),m=(0,a.up)("ion-toolbar"),w=(0,a.up)("ion-header"),f=(0,a.up)("ion-content"),k=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(k,null,{default:(0,a.w5)((()=>[e.loading?((0,a.wg)(),(0,a.j4)(d,{key:0})):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[e.backRoute?((0,a.wg)(),(0,a.j4)(i,{key:0,slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"default-href":e.backRoute},null,8,["default-href"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.title),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f,{fullscreen:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{collapse:"condense"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Wm)(s,{size:"large"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.title),1)])),_:1})])),_:1})])),_:1}),(0,a.WI)(e.$slots,"default")])),_:3})],64))])),_:3})}var l=t(8510),r=(0,a.aZ)({name:"CourseDetail",components:{IonButtons:l.Sm,IonBackButton:l.oU,IonHeader:l.Gu,IonLoading:l.wh,IonToolbar:l.sr,IonTitle:l.wd,IonContent:l.W2,IonPage:l._i},props:{backRoute:{type:String,default:null},loading:{type:Boolean,default:!1},title:{type:String,default:""}}}),d=t(3744);const c=(0,d.Z)(r,[["render",u]]);var i=c},6218:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var a=t(6252),o=t(3577);const u=(0,a.Uk)("Bezahlt"),l=(0,a.Uk)("ja"),r=(0,a.Uk)("nein"),d=(0,a.Uk)("Kartengröße"),c=(0,a.Uk)("5"),i=(0,a.Uk)("8"),s=(0,a.Uk)("10"),m=(0,a.Uk)("Verbrauchte Stunden"),w=(0,a.Uk)("Besuchte Stunden"),f=(0,a.Uk)("Der Teilnehmer hat noch keine Stunden ..."),k=(0,a.Uk)(" Zurück zum Kurs ");function p(e,n,t,p,g,_){const y=(0,a.up)("ion-label"),W=(0,a.up)("ion-icon"),h=(0,a.up)("ion-button"),b=(0,a.up)("ion-item"),I=(0,a.up)("ion-select-option"),U=(0,a.up)("ion-select"),v=(0,a.up)("ion-badge"),C=(0,a.up)("ion-list-header"),S=(0,a.up)("ion-list"),j=(0,a.up)("PageLayout");return(0,a.wg)(),(0,a.j4)(j,{"back-route":`/tabs/course/${e.course?.id}`,loading:!e.card,title:`${e.customer?.dogname} (${e.customer?.name})`},{default:(0,a.w5)((()=>[e.course&&e.card?((0,a.wg)(),(0,a.j4)(S,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(h,{slot:"end",color:e.card.payed?"success":"light",onClick:n[0]||(n[0]=n=>e.togglePayed(e.card))},{default:(0,a.w5)((()=>[e.card.payed?((0,a.wg)(),(0,a.j4)(W,{key:0,icon:e.checkmarkCircle,slot:"start"},null,8,["icon"])):((0,a.wg)(),(0,a.j4)(W,{key:1,icon:e.closeCircle,slot:"start"},null,8,["icon"])),e.card.payed?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[l],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[r],64))])),_:1},8,["color"])])),_:1}),(0,a.Wm)(b,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(U,{value:e.card.count,onIonChange:n[1]||(n[1]=n=>e.updateCount(n))},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{value:5},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(I,{value:8},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(I,{value:10},{default:(0,a.w5)((()=>[s])),_:1})])),_:1},8,["value"])])),_:1}),(0,a.Wm)(b,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)(v,{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.card.course_dates?.length)+" / "+(0,o.zw)(e.card.count),1)])),_:1})])),_:1}),(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[w])),_:1})])),_:1}),e.card.course_dates.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(e.card.course_dates,(n=>((0,a.wg)(),(0,a.j4)(b,{key:n.id,button:"","router-link":`/tabs/course/${e.course.id}/coursedatedetail/${n.id}`},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(new Date(n.date).toLocaleDateString())+": "+(0,o.zw)(n.topics.name),1)])),_:2},1024)])),_:2},1032,["router-link"])))),128)):((0,a.wg)(),(0,a.j4)(b,{key:0,lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{icon:e.pawOutline,slot:"start"},null,8,["icon"]),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[f])),_:1})])),_:1})),(0,a.Wm)(h,{expand:"block","router-link":`/tabs/course/${e.course.id}`,"router-direction":"back",color:"light",class:"ion-margin"},{default:(0,a.w5)((()=>[k])),_:1},8,["router-link"])])),_:1})):(0,a.kq)("",!0)])),_:1},8,["back-route","loading","title"])}var g=t(2262),_=t(8510),y=t(7606),W=t(5813),h=t(2119),b=t(8903),I=t(816),U=(0,a.aZ)({name:"CourseCardDetail",components:{IonButton:_.YG,IonLabel:_.Q$,IonList:_.q_,IonItem:_.Ie,IonSelect:_.t9,IonSelectOption:_.n0,IonIcon:_.gu,PageLayout:W.Z,IonBadge:_.yp,IonListHeader:_.yh},setup(){const e=(0,g.iH)(),n=(0,g.iH)(),t=(0,g.iH)(),a=(0,h.yj)(),{cardId:o}=a.params;async function u(){const a=await y.O.from("cards").select("\n          id,\n          payed,\n          count,\n          courses (\n            id,\n            name\n          ),\n          course_dates (\n            id,\n            date,\n            topics (\n              id,\n              name\n            )\n          ),\n          customers (\n            id,\n            name,\n            dogname\n          )\n        ").match({id:o});a.error||(e.value=a.body[0],t.value=(0,g.SU)(e).courses,n.value=(0,g.SU)(e).customers)}function l(){u()}async function r(e){const{error:n}=await y.O.from("cards").update({payed:!e.payed}).match({id:e.id});n?I.h.error("Fehler beim Ändern des Bezahlstatus.",n):u()}async function d(n){const{error:t}=await y.O.from("cards").update({count:n.detail.value}).match({id:(0,g.SU)(e).id});t?I.h.error("Fehler beim Ändern der Kartengröße.",t):u()}return l(),(0,_.KA)(l),{card:e,course:t,customer:n,pawOutline:b.WG6,checkmarkCircle:b.I1A,closeCircle:b.XZx,togglePayed:r,updateCount:d}}}),v=t(3744);const C=(0,v.Z)(U,[["render",p]]);var S=C}}]);
//# sourceMappingURL=218.81f7e43b.js.map