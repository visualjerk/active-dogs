{"version":3,"file":"js/678.c5c47067.js","mappings":"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","sources":["webpack://active-dogs/./src/components/CustomerInputList.vue?c8fc","webpack://active-dogs/./src/components/CustomerInputList.vue?2918","webpack://active-dogs/./src/components/CustomerInputList.vue","webpack://active-dogs/./src/components/PageLayout.vue?d208","webpack://active-dogs/./src/components/PageLayout.vue?a3ad","webpack://active-dogs/./src/components/PageLayout.vue","webpack://active-dogs/./src/views/course/EditCustomer.vue?f846","webpack://active-dogs/./src/views/course/EditCustomer.vue?0ab6","webpack://active-dogs/./src/views/course/EditCustomer.vue"],"sourcesContent":["import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_checkbox = _resolveComponent(\"ion-checkbox\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n\n  return (_openBlock(), _createBlock(_component_ion_list, null, {\n    default: _withCtx(() => [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.list, (item) => {\n        return (_openBlock(), _createBlock(_component_ion_item, {\n          key: item.id\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_checkbox, {\n              slot: \"start\",\n              \"onUpdate:modelValue\": ($event: any) => (_ctx.toggleCustomer(item.id)),\n              modelValue: _ctx.isCustomerChecked(item.id)\n            }, null, 8, [\"onUpdate:modelValue\", \"modelValue\"]),\n            _renderSlot(_ctx.$slots, \"default\", _normalizeProps(_guardReactiveProps(item)), () => [\n              _createVNode(_component_ion_label, null, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(item.dogname) + \" (\" + _toDisplayString(item.name) + \")\", 1)\n                ]),\n                _: 2\n              }, 1024)\n            ])\n          ]),\n          _: 2\n        }, 1024))\n      }), 128))\n    ]),\n    _: 3\n  }))\n}","\nimport { defineComponent, ref, Ref, watch } from 'vue'\nimport { IonCheckbox, IonItem, IonLabel, IonList } from '@ionic/vue'\n\nexport default defineComponent({\n  name: 'CustomerInputList',\n  components: {\n    IonCheckbox,\n    IonItem,\n    IonLabel,\n    IonList,\n  },\n  props: {\n    list: {\n      type: Array,\n      default: () => [],\n    },\n    modelValue: {\n      type: Array,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const selectedCustomerIds: Ref<Set<number>> = ref(new Set())\n\n    watch(\n      () => props.modelValue,\n      () => {\n        selectedCustomerIds.value = new Set(props.modelValue as number[])\n      },\n      {\n        immediate: true,\n      }\n    )\n\n    function isCustomerChecked(id: number) {\n      return selectedCustomerIds.value.has(id)\n    }\n\n    function toggleCustomer(id: number) {\n      if (isCustomerChecked(id)) {\n        selectedCustomerIds.value.delete(id)\n      } else {\n        selectedCustomerIds.value.add(id)\n      }\n      emit('update:model-value', Array.from(selectedCustomerIds.value))\n    }\n\n    return {\n      isCustomerChecked,\n      toggleCustomer,\n    }\n  },\n})\n","import { render } from \"./CustomerInputList.vue?vue&type=template&id=4db3c05e&ts=true\"\nimport script from \"./CustomerInputList.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomerInputList.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/active-dogs/active-dogs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderSlot as _renderSlot, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_loading = _resolveComponent(\"ion-loading\")!\n  const _component_ion_back_button = _resolveComponent(\"ion-back-button\")!\n  const _component_ion_buttons = _resolveComponent(\"ion-buttons\")!\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      (_ctx.loading)\n        ? (_openBlock(), _createBlock(_component_ion_loading, { key: 0 }))\n        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            _createVNode(_component_ion_header, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_ion_toolbar, null, {\n                  default: _withCtx(() => [\n                    (_ctx.backRoute)\n                      ? (_openBlock(), _createBlock(_component_ion_buttons, {\n                          key: 0,\n                          slot: \"start\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_ion_back_button, { \"default-href\": _ctx.backRoute }, null, 8, [\"default-href\"])\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true),\n                    _createVNode(_component_ion_title, null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.title), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_content, { fullscreen: true }, {\n              default: _withCtx(() => [\n                _createVNode(_component_ion_header, { collapse: \"condense\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_ion_toolbar, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_ion_buttons, { slot: \"start\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_ion_back_button)\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_component_ion_title, { size: \"large\" }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.title), 1)\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _renderSlot(_ctx.$slots, \"default\")\n              ]),\n              _: 3\n            })\n          ], 64))\n    ]),\n    _: 3\n  }))\n}","\nimport { defineComponent } from 'vue'\nimport {\n  IonPage,\n  IonButtons,\n  IonBackButton,\n  IonLoading,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n} from '@ionic/vue'\n\nexport default defineComponent({\n  name: 'CourseDetail',\n  components: {\n    IonButtons,\n    IonBackButton,\n    IonHeader,\n    IonLoading,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonPage,\n  },\n  props: {\n    backRoute: {\n      type: String,\n      default: null,\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n  },\n})\n","import { render } from \"./PageLayout.vue?vue&type=template&id=66fb814c&ts=true\"\nimport script from \"./PageLayout.vue?vue&type=script&lang=ts\"\nexport * from \"./PageLayout.vue?vue&type=script&lang=ts\"\n\nimport \"./PageLayout.vue?vue&type=style&index=0&id=66fb814c&lang=css\"\n\nimport exportComponent from \"/home/runner/work/active-dogs/active-dogs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Änderungen speichern \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Zurück zum Kurs \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_CustomerInputList = _resolveComponent(\"CustomerInputList\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_PageLayout = _resolveComponent(\"PageLayout\")!\n\n  return (_openBlock(), _createBlock(_component_PageLayout, {\n    \"back-route\": `/tabs/course/${_ctx.course?.id}`,\n    loading: !_ctx.course,\n    title: `${_ctx.course?.name} - Teilnehmer`\n  }, {\n    default: _withCtx(() => [\n      (_ctx.course)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createVNode(_component_CustomerInputList, {\n              list: _ctx.customers,\n              modelValue: _ctx.selectedCustomerIds,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedCustomerIds) = $event))\n            }, null, 8, [\"list\", \"modelValue\"]),\n            _createVNode(_component_ion_button, {\n              expand: \"block\",\n              onClick: _ctx.saveCustomers,\n              class: \"ion-margin\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]),\n            _createVNode(_component_ion_button, {\n              class: \"ion-margin\",\n              expand: \"block\",\n              \"router-link\": `/tabs/course/${_ctx.course.id}`,\n              \"router-direction\": \"back\",\n              color: \"light\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_2\n              ]),\n              _: 1\n            }, 8, [\"router-link\"])\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"back-route\", \"loading\", \"title\"]))\n}","\nimport { defineComponent, ref, Ref, unref } from 'vue'\nimport { IonButton, useIonRouter, onIonViewWillEnter } from '@ionic/vue'\nimport { useRoute } from 'vue-router'\nimport { supabase } from '@/api'\nimport PageLayout from '@/components/PageLayout.vue'\nimport CustomerInputList from '@/components/CustomerInputList.vue'\nimport { notify } from '@/notify'\nimport { alert } from '@/alert'\nimport { state } from '@/store'\n\nexport default defineComponent({\n  name: 'CourseEditCustomer',\n  components: {\n    IonButton,\n    PageLayout,\n    CustomerInputList,\n  },\n  setup() {\n    const course = ref()\n    const route = useRoute()\n    const ionRouter = useIonRouter()\n    const { id } = route.params\n    const selectedCustomerIds: Ref<number[]> = ref([])\n\n    async function getCourse() {\n      const result = await supabase\n        .from('courses')\n        .select(\n          `\n          name,\n          id,\n          customers (\n            id\n          )\n        `\n        )\n        .match({\n          id,\n        })\n      if (result.error) {\n        notify.error('Fehler beim Laden der Kurse.', result.error)\n        return\n      }\n      course.value = result.body[0]\n      selectedCustomerIds.value = course.value.customers.map(\n        ({ id }: any) => id\n      )\n    }\n    getCourse()\n    onIonViewWillEnter(getCourse)\n\n    const customers: Ref<any> = ref([])\n\n    async function getCustomers() {\n      const result = await supabase\n        .from('customers')\n        .select(`name, dogname, id`)\n      if (result.error) {\n        notify.error('Fehler beim Laden des Kunden.', result.error)\n        return\n      }\n      customers.value = result.body\n    }\n    getCustomers()\n    onIonViewWillEnter(getCustomers)\n\n    async function saveCustomers() {\n      if (state.offline) {\n        notify.error('Fehler beim Speichern. Keine Internetverbindung.')\n        return\n      }\n      const customerIds = selectedCustomerIds.value\n      const courseId = course.value.id\n      const oldCustomerIds = unref(course).customers.map(({ id }: any) => id)\n      const removedCustomerIds = oldCustomerIds.filter(\n        (id: number) => !customerIds.includes(id)\n      )\n      const newCustomerIds = customerIds.filter(\n        (id: number) => !oldCustomerIds.includes(id)\n      )\n\n      if (removedCustomerIds.length) {\n        const confirm = await alert.confirm(\n          'Kursteilnehmer löschen?',\n          'Du bist dabei Kursteilnehmer zu entfernen. Wenn ein Kursteilnehmer entfernt wird, werden dadurch auch seine Stundenzuweisungen gelöscht.'\n        )\n        if (!confirm) {\n          return\n        }\n\n        // Get card ids\n        const { error, body } = await supabase\n          .from('cards')\n          .select(`id`)\n          .eq('course_id', courseId)\n          .in('customer_id', removedCustomerIds)\n\n        if (error || !body) {\n          notify.error('Fehler beim Holen der Kurszuweisungen.', error)\n          return\n        }\n\n        const cardIds = body.map(({ id }: any) => id)\n\n        // Delete card course dates\n        if (cardIds.length) {\n          const { error } = await supabase\n            .from('card_course_date')\n            .delete()\n            .in('card_id', cardIds)\n          if (error) {\n            notify.error('Fehler beim Löschen der Stundenzuweisungen.', error)\n            return\n          }\n        }\n\n        // Delete cards\n        if (cardIds.length) {\n          const { error } = await supabase\n            .from('cards')\n            .delete()\n            .in('id', cardIds)\n          if (error) {\n            notify.error('Fehler beim Löschen der Kundenzuweisungen.', error)\n            return\n          }\n        }\n      }\n\n      const mapCustomerToCourse = (customerId: number) => ({\n        customer_id: customerId,\n        course_id: courseId,\n      })\n\n      if (newCustomerIds.length) {\n        const { error } = await supabase\n          .from('cards')\n          .insert(newCustomerIds.map(mapCustomerToCourse))\n        if (error) {\n          notify.error('Fehler beim Speichern der Änderungen.', error)\n          return\n        }\n      }\n\n      notify.success('Teilnehmer erfolgreich gespeichert.')\n      ionRouter.navigate(`/tabs/course/${course.value.id}`, 'back', 'push')\n    }\n\n    return {\n      course,\n      customers,\n      selectedCustomerIds,\n      saveCustomers,\n    }\n  },\n})\n","import { render } from \"./EditCustomer.vue?vue&type=template&id=555e203c&ts=true\"\nimport script from \"./EditCustomer.vue?vue&type=script&lang=ts\"\nexport * from \"./EditCustomer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/active-dogs/active-dogs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_checkbox","_resolveComponent","_component_ion_label","_component_ion_item","_component_ion_list","_openBlock","_createBlock","default","_withCtx","_createElementBlock","_Fragment","_renderList","list","item","key","id","_createVNode","slot","$event","toggleCustomer","modelValue","isCustomerChecked","_renderSlot","$slots","_normalizeProps","_guardReactiveProps","_createTextVNode","_toDisplayString","dogname","name","_","defineComponent","components","IonCheckbox","IonItem","IonLabel","IonList","props","type","Array","required","setup","emit","selectedCustomerIds","ref","Set","value","has","delete","add","from","watch","immediate","__exports__","_component_ion_loading","_component_ion_back_button","_component_ion_buttons","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ion_content","_component_ion_page","loading","backRoute","_createCommentVNode","title","fullscreen","collapse","size","IonButtons","IonBackButton","IonHeader","IonLoading","IonToolbar","IonTitle","IonContent","IonPage","String","Boolean","_hoisted_1","_hoisted_2","_component_CustomerInputList","_component_ion_button","_component_PageLayout","course","customers","expand","onClick","saveCustomers","class","color","IonButton","PageLayout","CustomerInputList","route","useRoute","ionRouter","useIonRouter","params","async","getCourse","result","supabase","select","match","error","notify","body","map","onIonViewWillEnter","getCustomers","state","customerIds","courseId","oldCustomerIds","unref","removedCustomerIds","filter","includes","newCustomerIds","length","confirm","alert","eq","in","cardIds","mapCustomerToCourse","customerId","customer_id","course_id","insert","navigate"],"sourceRoot":""}